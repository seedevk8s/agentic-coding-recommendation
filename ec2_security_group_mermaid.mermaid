graph TB
    Internet[ğŸŒ Internet<br/>ì¸í„°ë„·]
    IGW[ğŸšª Internet Gateway<br/>ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´]
    
    subgraph VPC ["ğŸ¢ VPC (Virtual Private Cloud)"]
        subgraph Subnet ["ğŸ“¡ Subnet"]
            EC2_1[ğŸ’» EC2 Instance<br/>i-1234567890abcdef0<br/>Private: 10.0.1.100<br/>Public: 54.123.45.67]
            EC2_2[ğŸ’» Other EC2<br/>ê°™ì€ ë³´ì•ˆê·¸ë£¹]
            
            subgraph SG ["ğŸ›¡ï¸ ê¸°ë³¸ ë³´ì•ˆê·¸ë£¹<br/>sg-0123456789abcdef0"]
                Inbound["ğŸ“¥ Inbound Rules<br/>âœ… All Traffic<br/>Source: Same SG<br/>(ìê¸° ìì‹ ë§Œ)"]
                Outbound["ğŸ“¤ Outbound Rules<br/>âœ… All Traffic<br/>Destination: 0.0.0.0/0<br/>(ëª¨ë“  ê³³)"]
            end
        end
    end
    
    ExternalUser[ğŸ‘¤ ì™¸ë¶€ ì‚¬ìš©ì<br/>SSH/HTTP ì‹œë„]
    
    %% ì—°ê²° ê´€ê³„
    Internet --> IGW
    IGW --> EC2_1
    EC2_1 -.-> SG
    SG --> Inbound
    SG --> Outbound
    
    %% í—ˆìš©ëœ í†µì‹ 
    EC2_1 <--> EC2_2
    EC2_1 --> Internet
    
    %% ì°¨ë‹¨ëœ í†µì‹ 
    ExternalUser -.->|âŒ ì°¨ë‹¨ë¨| EC2_1
    
    %% ìŠ¤íƒ€ì¼ë§
    classDef ec2Class fill:#ffecb3,stroke:#ff8f00,stroke-width:2px
    classDef sgClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef ruleClass fill:#e8f5e8,stroke:#2e7d32,stroke-width:1px
    classDef blockedClass fill:#ffebee,stroke:#d32f2f,stroke-width:2px,stroke-dasharray: 5 5
    classDef allowedClass fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
    classDef internetClass fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    
    class EC2_1,EC2_2 ec2Class
    class SG sgClass
    class Inbound,Outbound ruleClass
    class ExternalUser blockedClass
    class Internet,IGW internetClass